\chapter{Conclusion}
\label{ch:concl}

To conclude our work, we summarize our contributions, highlighting their importance.

Building upon the work of \citet{rendel15automatic}, we have formally defined the language Uroboro (\autoref{ch:uro}). This language is interesting for the purpose of automatic program transformation since it isn't truly higher-order, but rather generalizes first-class functions to codata.

For Uroboro we have developed automatic program transformations. We have identified a subset of those transformations, which we call extractions (\autoref{ch:extr}); we have developed a formal description of them and we have shown how and under which circumstances they preserve the semantics of a program.

Using the concept of extractions, and building upon the work of \citet{rendel15automatic} and \citet{setzer14unnesting}, we have presented algorithms for automatic de- and refunctionalization (\autoref{ch:derefunc}). Such transformations find applications, e.g., with the meta-circular interpreter of \citet{reynolds72definitional}, and in general they can bring programs from a more (human-)understandable form to one with certain properties desirable with regards to computation. In the course of developing these transformations, we have encountered a specific problem concerning the asymmetry between constructors and destructors in Uroboro and other current languages with copatterns (\autoref{sssec:asym}).

We would like to point out that we tried to develop automatic de- and refunctionalization without relying on knowing the coverage derivation, unlike our final version which adapts the unnesting algorithm of \citet{setzer14unnesting}. However, our attempts have been fruitless. For one, as already described in \autoref{sec:relunn}, we were only able to avoid the introduction of overlaps at the cost of exponential worst-case time complexity. Further, \citeauthor{setzer14unnesting}'s algorithm was superior to our approaches, since, as we described in \autoref{sec:relunn}, it is the natural counterpart to the interactive construction of a coverage-complete function; compared to this, our approaches were too complicated. While we cannot guarantee that a more understandable and/or faster de- and refunctionalization algorithm that doesn't rely on knowing the coverage derivation doesn't exist, we see this as an indication that such an algorithm is hard to develop.

Overall, we mostly regard our work as one brick in the building that the Uroboro programme is to become. But we have also shone a light on one problem which goes beyond the principal goals of that programme, namely the above mentioned asymmetry. Therefore, we hope that our work can be both followed up by other work in the Uroboro programme, as well as give an incentive to explore this, more general, asymmetry problem.